<!DOCTYPE HTML>
<!--
	Ethereal by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
	
	modified by JackG.
-->
<html>
<head>
<title>JackG's 미니 페이지</title>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="keyword"
	content="spring-boot, app-engine, JackG, 미니 페이지, 포트폴리오">

<link rel="shortcut icon" type="image⁄x-icon"
	href="images/JackG-title-logo.png">

<link rel="stylesheet" href="assets/css/main.css" />
<noscript>
	<link rel="stylesheet" href="assets/css/noscript.css" />
</noscript>
</head>
<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<!-- Wrapper -->
		<div id="wrapper">

			<!-- Panel (Banner) -->
			<section class="panel banner right">
				<div class="content color0 span-3-75">
					<h1 class="major">JackG's mini home</h1>
					<p>
						<strong>Hello world!!!</strong> 안녕하세요. spring-boot와 App engine을
						활용한 포트폴리오 용도의 미니페이지 입니다.
					</p>
					<ul class="actions">
						<li><a href="#first"
							class="button primary color1 circle icon solid fa-angle-right">Next</a></li>
					</ul>
				</div>
				<div class="image filtered span-1-75" data-position="25% 25%">
					<img src="images/JackG-logo-black.png" alt="로고" />
				</div>
			</section>

			<!-- Panel (Spotlight) -->
			<section class="panel spotlight medium" id="first">
				<div class="content span-7">
					<h2 class="major">IT 교육과정 수료</h2>
					<p>2019.03 ~ 2019.09 이젠아이티(IT)아카데미 학원에서 자바를 활용한 안드로이드 앱 개발 과정
						수료.</p>
					<br>
					<h2 class="major">Project</h2>
					<p>2019.08 ~ 2019.09 비공개 모임 어플 ToPle 제작 - Team Leader</p>
					<ul class="actions">
						<li><a href="#second"
							class="button primary color1 circle icon solid fa-angle-right">Next</a></li>
					</ul>
				</div>
				<div class="image filtered tinted" data-position="top left">
					<img src="images/ezen.jpg" alt="" style="opacity: 0.2" />
				</div>
			</section>

			<!-- Panel -->
			<section class="panel color1" id="second">
				<div class="intro joined">
					<h2 class="major">Ability</h2>
					<h4>Language</h4>
					<ul>
						<li>JAVA</li>
					</ul>
					<h4>Framework</h4>
					<ul>
						<li>Spring Framework & boot</li>
						<li>MyBatis</li>
						<li>Android</li>
					</ul>
					<h4>GCP</h4>
					<ul>
						<li>AppEngine</li>
					</ul>
					<h4>DB</h4>
					<ul>
						<li>Oracle XE</li>
					</ul>
				</div>
				<div class="inner">
					<ul class="grid-icons two connected">
						<li><span class="icon brands fa-java"><span
								class="label">java</span></span></li>
						<li><span class="icon brands fa-js-square"><span
								class="label">Javascript</span></span></li>
						<li><span class="icon brands fa-google"><span
								class="label">Google</span></span></li>
						<li><span class="icon brands fa-android"><span
								class="label">Android</span></span></li>
						<li><span class="icon solid fa-database"><span
								class="label">DB</span></span></li>
						<li><span class="icon solid fa-code"><span
								class="label">Nullam</span></span></li>
					</ul>
					<ul class="actions special">
						<li><a href="#third"
							class="button primary color1 circle icon solid fa-angle-right">Next</a></li>
					</ul>
				</div>
			</section>

			<!-- Panel (Spotlight) -->
			<section class="panel spotlight medium" id="third">
				<div class="content span-8" style="color: black; font-weight: bold;">
					<h2 class="major">After Project ToPle</h2>
					<p>
						&ensp;학원 교육기간 중 팀프로젝트로 제작 팀장을 맡았으며, DB와 Server 제작을 담당했다. 교육 당시에는
						ModelAndView를 사용하여 JSP파일을 통해 JSON객체를 생성하여, out명령을 통해 Body에 출력했지만,
						JSON형식의 데이터 전송에 VIEW는 필요 없다고 생각되어 @ResponseBody 애너테이션을 통해 JSON형식
						문자열을 바로 전송하게 Controller를 작성했었다. <br>&ensp;과정이 끝난 후에
						RestfulAPI와 spring-boot의 @RestController를 알게 되었고 차후 토이프로젝트를 진행하게
						되면 Restful 디자인 패턴을 적용해봐야 겠다고 생각하게 되었다.
					</p>
					<ul class="contact-icons color2">
						<li class="icon brands fa-google-drive">
							<a href="https://drive.google.com/open?id=1fABywx8x3MLZlBxBNjATKc682H41rb_v">Google-Drive</a></li>
					</ul>
					<ul class="actions">
						<li><a href="#boardList"
							class="button primary color1 circle icon solid fa-angle-right">Next</a></li>
					</ul>
				</div>
				<div class="image filtered tinted" data-position="top right">
					<img src="images/tople.jpg" alt="" style="opacity: 0.3" />
				</div>
			</section>
			
			<section class="panel spotlight color0" id="boardList">
				<div class="content span-5">
					<h4 class="major">게시판</h4>
					<div class="table-wrapper">
						<table>
							<thead>
								<tr>
									<th>작성자</th>
									<th width="50%">제목</th>
									<th>작성일자</th>
								</tr>
							</thead>
							<tbody id="listzone">
							</tbody>
						</table>
						<ul class="actions">
							<li id="pre"><a href="#" class="button primary color2 circle icon solid fa-arrow-left">이전</a></li>
							<li id="fw"><a href="#" class="button primary color2 circle icon solid fa-arrow-right">다음</a></li>
							<li><a class="button primary color2" id="write" onclick="$('#writeField').toggle();">글쓰기</a></li>
						</ul>
					</div>
				</div>
			</section>
			
			<section class="panel spotlight color3" id="writeField">
				<div class="content span-5">
					<form method="post" id="boardForm">
						<div class="fields">
							<div class="field third">
								<label for="author">작성자</label>
								<input type="text" name="author" id="author" />
							</div>
							<div class="field third">
								<label for="pass">비밀번호</label>
								<input type="password" name="pass" id="pass" />
							</div>
							<div class="field">
								<label for="subject">제목</label>
								<input type="text" name="subject" id="subject">
							</div>
							<div class="field">
								<label for="content">내용</label>
								<textarea name="content" id="content" rows="4"></textarea>
							</div>
						</div>
						<ul class="actions">
							<li><input type="submit" value="작성" id="boardWrite" class="button primary" /></li>
							<li><input type="reset" value="다시쓰기" class="button primary" /></li>
						</ul>
					</form>
				</div>
			</section>

			<!-- Panel -->
			<section class="panel color4-alt" id="fourth">
				<div class="intro color4">
					<h2 class="major">Note</h2>
					<p>
						2019.10.23 ~ 2019.10.31
						<br>
						index 페이지 디플로이
						<br>
						2019.12.18 ~ 2019.12.28
						<br>
						1. app engine datastore를 이용한 간단 게시판<br>
						2. Jqurey & Ajax<br>
						3. Sweet Alert
					</p>
					<h2 class="major">추가 예정</h2>
					<p>이미지 갤러리
					</p>
				</div>
				<div class="inner columns divided">
					<div class="span-1-5">
					<h2 class="major">Link</h2>
						<ul class="contact-icons color1">
							<li class="icon solid fa-home"><a href="https://www.jackg.gq">Home</a></li>
							<li class="icon brands fa-github"><a href="https://github.com/monoyaya">GitHub</a></li>
						</ul>
					</div>
				</div>
			</section>

			<!-- Copyright -->
			<div class="copyright">
				&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.
			</div>
		</div>

	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
	<script src="assets/js/main.js"></script>
	<script type="text/javascript">
		var root = window.location.protocol + "//" 
					+ window.location.hostname 
					+ (window.location.port ? ':' + window.location.port: '')
		var startCursor = null
		var offset = 0;
		
		$(function() {
			getList(true);
			
			$("#writeField").hide();
			
			$("#boardWrite").click(function() {
				$.ajax({
					type: "PUT",
					url: root + "/board/write",
					data: $("#boardForm").serialize(),
					success: function(data) {
						location.reload();
					}
				});
				
				return false;
			});
			
			$("#pre").click(function() {
				getList(false)
				return false;
			})
			
			$("#fw").click(function() {
				getList(true)
				return false;
			})
		})
		
		function getList(isNext) {
			var listurl = root + "/board/list?isNext=" + isNext;
			
			if (isNext) {
				if(startCursor) {
					listurl += ("&startCursor=" + startCursor)
				}
			} else {
				offset--;
				if(offset > 0) {
					listurl += ("&offset=" + offset)
				}
			}
			
			$.get(listurl, function(data){
				$("#listzone").children().remove();
				
				if(data.list) {
					for (let board of data.list) {
						var tr = $("<tr id='"+board.boardId+"'>")
						
						var name = $("<td>" + board.author + "</td>");
						var sub = $("<td>" + board.subject + "</td>");
						var days = $("<td>" + board.monthDay + "</td>");
						
						tr.addClass("article")
						
						var content = $("<tr></tr>")
						
						var td1 = $("<td></td>");
						td1.attr("colspan", 2);
						td1.html("<span>"+board.content+"</span>");
						
						var td2 = $("<td></td>");
						var act = $("<ul class='actions'><li></li></ul>")
						var delbtn = $("<input type='button' value='글삭제' class='button primary color2 boardDel' />");
						delbtn.attr("data", board.boardId)
						delbtn.attr("pass", board.pass)
						
						td2.append(act.append(delbtn))

						content.addClass("cont").hide()
						
						$("#listzone").append(tr.append(name, sub, days), content.append(td1, td2))
					}
				}
			}).done(function(data){
				if(isNext) offset++;
				
				if(data.endCursor) {
					startCursor = data.endCursor;
					$("#fw").show();
				}
				else {
					startCursor = null;
					$("#fw").hide();
				}
				
				if (offset > 1) {
					$("#pre").show();
				}
				else {
					$("#pre").hide();
				}
				
				$(".article").click(function() {
					$(this).next(".cont").toggle()
				})
				
				$(".boardDel").click(function() {
					Swal.fire({
						title: '삭제하시겠습니까?',
						text: '비밀번호를 입력해 주세요.',
						input: 'password',
						inputPlaceholder: '삭제하려는 글의 비밀번호',
						inputAttributes: {
							autocapitalize: 'off',
							autocorrect: 'off'
						},
						showCancelButton: true,
						cancelButtonText: '<i class="far fa-window-close"></i>',
						confirmButtonText: '<i class="far fa-trash-alt"></i>',
					})
					.then((result) => {
						if($(this).attr("pass") !== result.value) {
							Swal.fire("비밀번호가 일치하지 않습니다.", '', 'info')
						} else {
							var pass = result.value;
							
							$.ajax({
								url: root + "/board",
								method: "DELETE",
								data: {
									boardId: $(this).attr("data")
								},
								success: function(data) {
									Swal.fire({
										title: '삭제 성공',
										icon: 'success',
										confirmButtonText: '확인',
										onAfterClose: function(){location.reload()}
									})
								}
							})
						}
					})
				})
			})
		}
	</script>
</body>
</html>